## 页面生命周期

```js
// 页面生命周期事件触发顺序
DOMContentLoaded → load → beforeunload → unload
```

1. DOMContentLoaded: 浏览器已经完全加载 HTML， DOM 树已经创建完毕，但是其他资源（如：img、样式表等）还没加载完成

```js
document.addEventListener("DOMContentLoaded", function () {
  console.log("DOMContentLoaded");

  /**
   * 1.初始化第三方库等操作
   * 2. 绑定事件
   * 3. dom操作
   * ...
   */
});
```

2. load: 浏览器不仅加载完成了 HTML，还加载完成了所有外部资源

```js
document.addEventListener("load", function () {
  console.log("load");

  /**
   * 1. 获取图片真实尺寸
   * ...
   */
});
```

3. beforeunload: 当浏览器窗口关闭或者刷新时，会触发 beforeunload

```js
document.addEventListener("beforeunload", function () {
  console.log("beforeunload");

  /**
   * 1. 询问用户是否保存数据
   * ...
   */
});
```

4. unload: 当浏览器窗口关闭或者刷新时，会触发 unload

```js
document.addEventListener("unload", function () {
  console.log("unload");

  /**
   * 1. 清除定时器
   * 2. 解绑事件
   * ...
   */
});
```
