## 浏览器安全

### XSS 攻击

xss 攻击是一种跨站点脚本攻击，攻击者通过向网页注入恶意脚本，当用户访问网页时窃取用户信息或是控制网页行为。

#### 防范：

1.  对用户输入内容进行过滤和转义，避免直接渲染
2.  设置 CSP（content security policy）策略，限制页面可执行脚本
3.  设置 cookie 的 HttpOnly 属性限制 javaScript 脚本访问 cookie，避免敏感信息泄露

### CSRF 攻击

CSRF 是一种跨站点请求伪造攻击，攻击者通过诱导用户点击恶意链接，利用用户身份发起恶意请求，达到攻击目的

#### 防范：

1. 随机 token 验证，在请求中添加随机 token，服务端校验 token 是否匹配，避免请求伪造
2. 设置cookie的SameSite属性为Strict或Lax，限制跨站访问。设置为Strict时，禁止跨站访问，设置为Lax时，允许一定程度的跨站访问。
3. 进行referer验证，因为CSRF攻击一般是从第三方站点发起的，无法跨域进行自定义referer，所以可以通过校验referer来防止CSRF攻击
4. 对于敏感操作，可以进行二次验证操作
