## 常见的内存泄露场景

1. 意外的全局变量，未通过 var,let,const 声明的变量会变成全局变量一直挂载在 window 上，直到页面关闭才会被释放

```js
function test() {
  a = 1; //a变成全局变量
}
```

2. 未清除的定时器或事件的监听器，如果不清除定时器，那么定时器一直存在，事件监听器一直存在，那么事件处理函数以及其依赖的变量就无法被回收
3. dom 的引用，当 dom 被移除后，如果 js 中还保留了对其的引用，那么该 dom 不会被回收
4. 闭包中会引用外层函数的变量，如果闭包不清除，那么外层函数的变量不会被回收

```js
function test() {
  let a = 1;
  return function () {
    console.log(a);
  };
}
const fn = test();
```
