## 浏览器缓存

1. http 缓存是由 http 协议头控制的缓存,主要分为强缓存和协商缓存(强缓存指的是当资源在有效期内则直接使用缓存；协商缓存指的是每次请求先询问服务器是否有新的资源，如果有服务器就返回新资源，否则使用缓存)

- 强缓存, 是通过 Expires 和 Cache-Control 控制的。

  - Expires 设置缓存的过期时间，是一个绝对时间。
  - Cache-Control 常用值：
  - max-age: 设置缓存最大有效时间，单位是秒
  - public: 表示响应内容可以被任何对象缓存
  - private: 表示响应内容只能被单一用户缓存，不能共享缓存
  - no-cache: 强制使用协商缓存
  - no-store： 不使用缓存

- 协商缓存是当强缓存失效时生效的，主要通过**Last-Modified**、**If-Modified-Since** 和 **Etag**、**If-None-Match**两组字段控制。

  - Last-Modified 表示资源最后修改的时间，下一次请求会带上 If-Modified-Since，服务端判断资源是否修改，如果修改了就返回新资源，状态码 200，否则返回 304
  - Etag 是资源的唯一标识，下一次请求带上 If-Modified-Match，服务端会对 Etag 进行比较决定返回新资源还是继续使用缓存。
